{"version":3,"sources":["components/Dashboard/Message.js","config/Fire.js","config/db.js"],"names":["Message","props","state","message","activateNavItem","bind","active","a","this","database","once","then","snap","setState","val","on","newMessage","Object","assign","document","querySelectorAll","forEach","el","children","getAttribute","history","location","pathname","classList","add","remove","data","keys","key","push","id","name","email","phone","className","length","map","index","to","slice","class","match","params","role","Component","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","ref","child","storage","databaseOrder","databaseTrainer","databasecertificate","databaseContact","databaseUser","auth"],"mappings":"yQAIqBA,E,kDACjB,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,CACTC,QAAS,IAEb,EAAKC,gBAAkB,EAAKA,gBAAgBC,KAArB,gBACvB,EAAKC,OAAS,EAAKA,OAAOD,KAAZ,gBANC,E,6FAQnB,iCAAAE,EAAA,sDACIC,KAAKJ,kBACLK,IAASC,KAAK,SAASC,MAAK,SAAAC,GAAI,OAAI,EAAKC,SAAS,CAAEV,QAASS,EAAKE,WAClEL,IAASM,GAAG,eAAe,SAAAH,GACvB,GAAI,EAAKV,MAAMC,QAAS,CACpB,IAAMa,EAAaC,OAAOC,OAAO,EAAKhB,MAAMC,QAASS,EAAKE,OAC1D,EAAKD,SAAS,CAAEV,QAASa,QANrC,gD,sFAUA,WACIR,KAAKJ,oB,6BAET,WACkBe,SAASC,iBAAiB,aAElCC,SAAQ,SAAAC,GACGA,EAAGC,SAAS,GAAGC,aAAa,UAC5BC,IAAQC,SAASC,SAC1BL,EAAGM,UAAUC,IAAI,uBAEjBP,EAAGM,UAAUE,OAAO,4B,oBAGhC,WACItB,KAAKJ,oB,oBAET,WAAU,IAAD,OACC2B,EAAO,GAeb,OAdIvB,KAAKN,MAAMC,SACXc,OAAOe,KAAKxB,KAAKN,MAAMC,SAASkB,SAAQ,SAACY,GACrC,EAAK/B,MAAMC,QAAQ8B,GACfF,EAAKG,KAAK,CACNC,GAAIF,EACJG,KAAM,EAAKlC,MAAMC,QAAQ8B,GAAKG,KAC9BC,MAAO,EAAKnC,MAAMC,QAAQ8B,GAAKI,MAC/BC,MAAO,EAAKpC,MAAMC,QAAQ8B,GAAKK,MAC/BnC,QAAS,EAAKD,MAAMC,QAAQ8B,GAAK9B,UAEjC4B,EAAKG,KAAK,EAAKhC,MAAMC,YAKjC,yBAAKoC,UAAU,gBACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,sCACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,yCACX,yBAAKA,UAAU,QAEPR,EAAKS,OAAS,GACdT,EAAKU,KAAI,SAACtC,EAASuC,GACf,OACI,yBAAKH,UAAU,sBAAsBJ,GAAG,WAAWF,IAAKS,GACpD,kBAAC,IAAD,CAAMC,GAAE,6BAAwBxC,EAAQgC,IAAMI,UAAU,aACpD,6BACI,4BAAKpC,EAAQiC,MAEb,2BAAIjC,EAAQA,QAAQyC,MAAM,EAAG,IAA7B,QAEJ,yBAAKC,MAAM,4BAQvC,yBAAKN,UAAU,yBAEPR,EAAKS,OAAS,GACdT,EAAKU,KAAI,SAACtC,EAASuC,GACf,OACI,6BAEQ,EAAKzC,MAAM6C,MAAMC,OAAOZ,KAAOhC,EAAQgC,IACvC,oCACI,6BACI,4BAAKhC,EAAQiC,MACb,2BAAIjC,EAAQkC,MAAZ,KAAqBlC,EAAQmC,QAEjC,yBAAKO,MAAM,qBACX,yBAAKA,MAAM,2BAA2BG,KAAK,SACtC7C,EAAQA,uB,GA7FhC8C,c,mSCOrCC,IAASC,cAVc,CACrBC,OAAQ,0CACRC,WAAY,gCACZC,UAAW,gBACXC,cAAe,4BACfC,kBAAmB,eACnBC,MAAO,8CAKMP,QAAf,ECTczC,G,MAAYyC,EAASzC,WAAWiD,MAAMC,MAAM,YAC7CC,EAAUV,EAASU,UAClBC,EAAiBX,EAASzC,WAAWiD,MAAMC,MAAM,SAClDG,EAAkBZ,EAASzC,WAAWiD,MAAMC,MAAM,WAClDI,EAAsBb,EAASzC,WAAWiD,MAAMC,MAAM,eACtDK,EAAkBd,EAASzC,WAAWiD,MAAMC,MAAM,WAClDM,EAAef,EAASzC,WAAWiD,MAAMC,MAAM,QACxCT,EAASgB","file":"static/js/23.c5820dd5.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { databaseContact as database } from \"../../config/db\";\nimport { Link, history } from 'react-router-guard';\n\nexport default class Message extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            message: \"\"\n        }\n        this.activateNavItem = this.activateNavItem.bind(this);\n        this.active = this.active.bind(this);\n    }\n    async componentWillMount() {\n        this.activateNavItem();\n        database.once(\"value\").then(snap => this.setState({ message: snap.val() }))\n        database.on(\"child_added\", snap => {\n            if (this.state.message) {\n                const newMessage = Object.assign(this.state.message, snap.val())\n                this.setState({ message: newMessage })\n            }\n        })\n    }\n    componentDidUpdate() {\n        this.activateNavItem();\n    }\n    activateNavItem() {\n        const links = document.querySelectorAll('#sideNavv');\n\n        links.forEach(el => {\n            const path = el.children[0].getAttribute('href');\n            if (path === history.location.pathname)\n                el.classList.add('ussd_message_active');\n            else\n                el.classList.remove('ussd_message_active')\n        });\n    }\n    active() {\n        this.activateNavItem();\n    }\n    render() {\n        const data = [];\n        if (this.state.message) {\n            Object.keys(this.state.message).forEach((key) => {\n                this.state.message[key] ?\n                    data.push({\n                        id: key,\n                        name: this.state.message[key].name,\n                        email: this.state.message[key].email,\n                        phone: this.state.message[key].phone,\n                        message: this.state.message[key].message\n                    }\n                    ) : data.push(this.state.message)\n\n            });\n        }\n        return (\n            <div className=\"ibarizo_home\">\n                <div className=\"container-fluid\">\n                    <div className=\"container dashboard_container mt-4\">\n                        <div className=\"row\">\n                            <div className=\"col-lg-4  col-sm-6 border-right  pt-5\">\n                                <div className=\"mt-3\">\n                                    {\n                                        data.length > 0 &&\n                                        data.map((message, index) => {\n                                            return (\n                                                <div className=\"ussd_message_active\" id=\"sideNavv\" key={index}>\n                                                    <Link to={`/dashboard/message/${message.id}`} className=\"text-dark\">\n                                                        <div>\n                                                            <h5>{message.name}</h5>\n\n                                                            <p>{message.message.slice(0, 30)}...</p>\n                                                        </div>\n                                                        <div class=\"dropdown-divider\"></div>\n                                                    </Link>\n                                                </div>\n                                            )\n                                        })\n                                    }\n                                </div>\n                            </div>\n                            <div className=\"col-lg-8 col-sm-6 p-3\">\n                                {\n                                    data.length > 0 &&\n                                    data.map((message, index) => {\n                                        return (\n                                            <div>\n                                                {\n                                                    this.props.match.params.id === message.id &&\n                                                    <>\n                                                        <div>\n                                                            <h4>{message.name}</h4>\n                                                            <p>{message.email}, {message.phone}</p>\n                                                        </div>\n                                                        <div class=\"dropdown-divider\"></div>\n                                                        <div class=\"alert alert-primary mt-5\" role=\"alert\">\n                                                            {message.message}\n                                                        </div>\n                                                    </>\n                                                }\n                                            </div>\n                                        )\n                                    })\n                                }\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n","import firebase from 'firebase';\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCgFUfBCJo5BlJCPi8OnEVOxpBzvlJIgtQ\",\n  authDomain: \"woody-shop-rw.firebaseapp.com\",\n  projectId: \"woody-shop-rw\",\n  storageBucket: \"woody-shop-rw.appspot.com\",\n  messagingSenderId: \"288308342990\",\n  appId: \"1:288308342990:web:36958ef29637b6f6f2e09f\"\n\n};\n\nfirebase.initializeApp(firebaseConfig);\nexport default firebase;","import firebase from './Fire';\nimport 'firebase/database';\n\nexport  const database =  firebase.database().ref().child(\"product\");\nexport const storage = firebase.storage();\nexport  const databaseOrder =  firebase.database().ref().child(\"order\");\nexport const databaseTrainer = firebase.database().ref().child(\"trainer\");\nexport const databasecertificate = firebase.database().ref().child(\"certificate\");\nexport const databaseContact = firebase.database().ref().child(\"message\");\nexport const databaseUser = firebase.database().ref().child(\"user\");\nexport const auth = firebase.auth()"],"sourceRoot":""}