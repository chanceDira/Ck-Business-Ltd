{"version":3,"sources":["components/Dashboard/Certificate.js","config/Fire.js","config/db.js"],"names":["Certificate","props","handleChange","e","target","name","value","setState","changeFile","url","files","file","error","deleteProduct","id","a","database","child","remove","upload","loading","random","Math","toString","slice","state","company","storage","ref","put","getDownloadURL","then","save","preventDefault","loading_","description","push","set","document","getElementById","reset","certificate","once","snap","val","on","newCertificate","Object","assign","key","data","this","length","keys","forEach","className","method","onSubmit","class","role","Group","controlId","Label","type","onChange","placeholder","as","aria-label","onClick","style","cursor","size","animation","accept","for","map","product","index","Img","variant","height","src","Body","Title","Text","bind","reverse","Component","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","databaseOrder","databaseTrainer","databasecertificate","databaseContact","databaseUser","auth"],"mappings":"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","file":"static/js/22.11e3adc1.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Form, FormControl, Spinner, Card } from \"react-bootstrap\";\nimport { databasecertificate as database, storage } from \"../../config/db\";\n\nexport default class Certificate extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: false,\n            url: \"\",\n            company: \"\",\n            description: \"\",\n            file: \"\",\n            error: \"\",\n            loading_: false,\n            certificate: \"\"\n        }\n    }\n    async componentWillMount() {\n        database.once(\"value\").then(snap => this.setState({ certificate: snap.val() }))\n        database.on(\"child_added\", snap => {\n            if (this.state.certificate) {\n                const newCertificate = Object.assign(this.state.certificate, snap.val())\n                this.setState({ certificate: newCertificate })\n            }\n        })\n        database.on('child_removed', snap =>{\n            if(this.state.certificate){\n                const { [snap.key]: certificate,  ...newCertificate}  = this.state.certificate;\n                this.setState({certificate: newCertificate})\n            }\n        })\n\n    }\n    handleChange = (e) => {\n        const { name, value } = e.target;\n        this.setState({ [name]: value });\n    }\n    changeFile = e => {\n        let url = e.target.files[0];\n        this.setState({ file: url, error: \"\" });\n    }\n    deleteProduct = async (id) => {\n        await database.child(id).remove();\n     }\n    upload = async () => {\n        this.setState({ loading: true })\n        const random = Math.random().toString(36).slice(2);\n        if (this.state.file && this.state.company) {\n            await storage.ref(`certificate/${this.state.company}_${random}`).put(this.state.file)\n            await storage.ref(`certificate/${this.state.company}_${random}`).getDownloadURL().then((url) => {\n                this.setState({ file: \"\", error: \"\", loading: false, url: url })\n            })\n        } else {\n            this.setState({ error: \"Please choose file first Or write Company name \", loading: false })\n        }\n    }\n    save = async (e) => {\n        e.preventDefault();\n        this.setState({ loading_: true })\n        if (this.state.url && this.state.company && this.state.description) {\n            await database.push().set({ company: this.state.company, description: this.state.description, url: this.state.url })\n            this.setState({ url: \"\", error: \"\", loading_: false })\n            document.getElementById(\"reset-form\").reset()\n        } else {\n            this.setState({ error: \"All fields are required! Or please make sure you upload image first \", loading_: false })\n        }\n\n    }\n    render() {\n        const data = [];\n        if (this.state.certificate && data.length <1) {\n            Object.keys(this.state.certificate).forEach((key) => {\n                this.state.certificate[key] ?\n                    data.push({\n                        id: key,\n                        company: this.state.certificate[key].company,\n                        description: this.state.certificate[key].description,\n                        url: this.state.certificate[key].url\n                    }\n                    ) : data.push(this.state.certificate)\n            });\n        }\n        return (\n            <div>\n                <div className=\"about-container\">\n                    <div className=\"ibarizo_about\">\n                        <div className=\"abaut_content\">\n                            <div className=\"bg-white w-75  m-auto\">\n                                <Form\n                                    method=\"POST\"\n                                    id=\"reset-form\"\n                                    className=\"w-75 pt-5 m-auto\"\n                                    onSubmit={this.save}\n                                >\n                                    <div className=\"text-center text-dark mt-3 mb-3\">\n                                        <h5>\n                                            Upload certificate\n                                       </h5>\n                                        {\n                                            this.state.error && <div class=\"alert alert-danger\" role=\"alert\">\n                                                {this.state.error}\n                                            </div>\n                                        }\n                                    </div>\n                                    <Form.Group controlId=\"formGroupCertificate \" >\n                                        <Form.Label className=\"text-dark\">Company name</Form.Label>\n                                        <FormControl\n                                            type=\"text\"\n                                            name=\"company\"\n                                            onChange={this.handleChange}\n                                            placeholder=\"Write a company name\" />\n                                    </Form.Group>\n                                    <Form.Group controlId=\"formGroupPassword \" >\n                                        <Form.Label className=\"text-dark\">Description</Form.Label>\n                                        <FormControl\n                                            as=\"textarea\"\n                                            aria-label=\"With textarea\"\n                                            name=\"description\"\n                                            onChange={this.handleChange}\n                                            placeholder=\"Write a description\" />\n                                    </Form.Group>\n                                    <div className=\"mb-2\">\n                                        <div className=\"input-group mb-3\">\n                                            <div className=\"input-group-prepend\" onClick={this.upload} style={{ cursor: \"pointer\" }}>\n                                                <span className=\"input-group-text\">{\n                                                    this.state.loading && <Spinner size=\"sm\" animation=\"border\" />\n                                                }\n                                               Upload\n                                            </span>\n                                            </div>\n                                            <div className=\"custom-file\" >\n                                                <input type=\"file\" accept=\"image/*\" onChange={this.changeFile} className=\"custom-file-input\" id=\"inputGroupFile01\" />\n                                                <label className=\"custom-file-label\" for=\"inputGroupFile01\">{this.state.file ? this.state.file.name : \" Choose file \"}</label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"mt-4\">\n                                        <button type=\"submit\" className=\"btn btn-info w-50 mb-3\">\n                                            {\n                                                this.state.loading_ && <Spinner size=\"sm\" animation=\"border\" />\n                                            }\n                                            SAVE</button>\n                                    </div>\n                                </Form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"container mb-5\">\n                    <div className=\"text-center mt-5\">\n                        <h5>All Product</h5>\n                    </div>\n                    <div className=\"row mt-4\">\n                        {\n                            data.length > 0 &&\n                            data.map((product, index) => {\n                                return (<>\n                                    {\n                                        product && <div className=\"col-lg-3 col-sm-6 mt-3\" key={index}>\n                                            <Card>\n                                                <Card.Img variant=\"top\" className=\"w-100 custom-pc\" style={{ height: \"30vh\" }} src={product.url && product.url } />\n                                                <Card.Body>\n                                                    <Card.Title>{product.company}</Card.Title>\n                                                    <Card.Text>\n                                                        {product.description}\n                                                    </Card.Text>\n                                                    <button type=\"button\" class=\"btn btn-warning w-100\" onClick={this.deleteProduct.bind(this, product.id)}>DELETE</button>\n                                                </Card.Body>\n                                            </Card>\n                                        </div>\n                                    }\n\n                                </>\n                                )\n                            }).reverse()\n\n                        }\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n","import firebase from 'firebase';\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCgFUfBCJo5BlJCPi8OnEVOxpBzvlJIgtQ\",\n  authDomain: \"woody-shop-rw.firebaseapp.com\",\n  projectId: \"woody-shop-rw\",\n  storageBucket: \"woody-shop-rw.appspot.com\",\n  messagingSenderId: \"288308342990\",\n  appId: \"1:288308342990:web:36958ef29637b6f6f2e09f\"\n\n};\n\nfirebase.initializeApp(firebaseConfig);\nexport default firebase;","import firebase from './Fire';\nimport 'firebase/database';\n\nexport  const database =  firebase.database().ref().child(\"product\");\nexport const storage = firebase.storage();\nexport  const databaseOrder =  firebase.database().ref().child(\"order\");\nexport const databaseTrainer = firebase.database().ref().child(\"trainer\");\nexport const databasecertificate = firebase.database().ref().child(\"certificate\");\nexport const databaseContact = firebase.database().ref().child(\"message\");\nexport const databaseUser = firebase.database().ref().child(\"user\");\nexport const auth = firebase.auth()"],"sourceRoot":""}