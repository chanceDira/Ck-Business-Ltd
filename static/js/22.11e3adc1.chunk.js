(this["webpackJsonpCk-Business-Ltd"]=this["webpackJsonpCk-Business-Ltd"]||[]).push([[22],{366:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return y}));var r=a(77),n=a(78),c=a(50),i=a.n(c),s=a(51),o=a(52),l=a(2),u=a(3),m=a(5),d=a(4),f=a(0),p=a.n(f),h=a(137),b=a(68),v=a(152),g=a(346),E=a(41),y=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,n=t.value;r.setState(Object(o.a)({},a,n))},r.changeFile=function(e){var t=e.target.files[0];r.setState({file:t,error:""})},r.deleteProduct=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.f.child(t).remove();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.upload=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.setState({loading:!0}),t=Math.random().toString(36).slice(2),!r.state.file||!r.state.company){e.next=9;break}return e.next=5,E.g.ref("certificate/".concat(r.state.company,"_").concat(t)).put(r.state.file);case 5:return e.next=7,E.g.ref("certificate/".concat(r.state.company,"_").concat(t)).getDownloadURL().then((function(e){r.setState({file:"",error:"",loading:!1,url:e})}));case 7:e.next=10;break;case 9:r.setState({error:"Please choose file first Or write Company name ",loading:!1});case 10:case"end":return e.stop()}}),e)}))),r.save=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r.setState({loading_:!0}),!(r.state.url&&r.state.company&&r.state.description)){e.next=9;break}return e.next=5,E.f.push().set({company:r.state.company,description:r.state.description,url:r.state.url});case 5:r.setState({url:"",error:"",loading_:!1}),document.getElementById("reset-form").reset(),e.next=10;break;case 9:r.setState({error:"All fields are required! Or please make sure you upload image first ",loading_:!1});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={loading:!1,url:"",company:"",description:"",file:"",error:"",loading_:!1,certificate:""},r}return Object(u.a)(a,[{key:"componentWillMount",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E.f.once("value").then((function(e){return t.setState({certificate:e.val()})})),E.f.on("child_added",(function(e){if(t.state.certificate){var a=Object.assign(t.state.certificate,e.val());t.setState({certificate:a})}})),E.f.on("child_removed",(function(e){if(t.state.certificate){var a=t.state.certificate,c=e.key,i=(a[c],Object(r.a)(a,[c].map(n.a)));t.setState({certificate:i})}}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=[];return this.state.certificate&&t.length<1&&Object.keys(this.state.certificate).forEach((function(a){e.state.certificate[a]?t.push({id:a,company:e.state.certificate[a].company,description:e.state.certificate[a].description,url:e.state.certificate[a].url}):t.push(e.state.certificate)})),p.a.createElement("div",null,p.a.createElement("div",{className:"about-container"},p.a.createElement("div",{className:"ibarizo_about"},p.a.createElement("div",{className:"abaut_content"},p.a.createElement("div",{className:"bg-white w-75  m-auto"},p.a.createElement(h.a,{method:"POST",id:"reset-form",className:"w-75 pt-5 m-auto",onSubmit:this.save},p.a.createElement("div",{className:"text-center text-dark mt-3 mb-3"},p.a.createElement("h5",null,"Upload certificate"),this.state.error&&p.a.createElement("div",{class:"alert alert-danger",role:"alert"},this.state.error)),p.a.createElement(h.a.Group,{controlId:"formGroupCertificate "},p.a.createElement(h.a.Label,{className:"text-dark"},"Company name"),p.a.createElement(b.a,{type:"text",name:"company",onChange:this.handleChange,placeholder:"Write a company name"})),p.a.createElement(h.a.Group,{controlId:"formGroupPassword "},p.a.createElement(h.a.Label,{className:"text-dark"},"Description"),p.a.createElement(b.a,{as:"textarea","aria-label":"With textarea",name:"description",onChange:this.handleChange,placeholder:"Write a description"})),p.a.createElement("div",{className:"mb-2"},p.a.createElement("div",{className:"input-group mb-3"},p.a.createElement("div",{className:"input-group-prepend",onClick:this.upload,style:{cursor:"pointer"}},p.a.createElement("span",{className:"input-group-text"},this.state.loading&&p.a.createElement(v.a,{size:"sm",animation:"border"}),"Upload")),p.a.createElement("div",{className:"custom-file"},p.a.createElement("input",{type:"file",accept:"image/*",onChange:this.changeFile,className:"custom-file-input",id:"inputGroupFile01"}),p.a.createElement("label",{className:"custom-file-label",for:"inputGroupFile01"},this.state.file?this.state.file.name:" Choose file ")))),p.a.createElement("div",{className:"mt-4"},p.a.createElement("button",{type:"submit",className:"btn btn-info w-50 mb-3"},this.state.loading_&&p.a.createElement(v.a,{size:"sm",animation:"border"}),"SAVE"))))))),p.a.createElement("div",{className:"container mb-5"},p.a.createElement("div",{className:"text-center mt-5"},p.a.createElement("h5",null,"All Product")),p.a.createElement("div",{className:"row mt-4"},t.length>0&&t.map((function(t,a){return p.a.createElement(p.a.Fragment,null,t&&p.a.createElement("div",{className:"col-lg-3 col-sm-6 mt-3",key:a},p.a.createElement(g.a,null,p.a.createElement(g.a.Img,{variant:"top",className:"w-100 custom-pc",style:{height:"30vh"},src:t.url&&t.url}),p.a.createElement(g.a.Body,null,p.a.createElement(g.a.Title,null,t.company),p.a.createElement(g.a.Text,null,t.description),p.a.createElement("button",{type:"button",class:"btn btn-warning w-100",onClick:e.deleteProduct.bind(e,t.id)},"DELETE")))))})).reverse())))}}]),a}(f.Component)},41:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"f",(function(){return u})),a.d(t,"b",(function(){return m})),a.d(t,"e",(function(){return d}));var r=a(57),n=a.n(r);n.a.initializeApp({apiKey:"AIzaSyCgFUfBCJo5BlJCPi8OnEVOxpBzvlJIgtQ",authDomain:"woody-shop-rw.firebaseapp.com",projectId:"woody-shop-rw",storageBucket:"woody-shop-rw.appspot.com",messagingSenderId:"288308342990",appId:"1:288308342990:web:36958ef29637b6f6f2e09f"});var c=n.a,i=(a(59),c.database().ref().child("product")),s=c.storage(),o=c.database().ref().child("order"),l=c.database().ref().child("trainer"),u=c.database().ref().child("certificate"),m=c.database().ref().child("message"),d=c.database().ref().child("user");c.auth()}}]);
//# sourceMappingURL=22.11e3adc1.chunk.js.map